"use strict";(self.webpackChunkincorta_react_ts_test=self.webpackChunkincorta_react_ts_test||[]).push([[633],{514:(e,s,t)=>{t.d(s,{A:()=>i});const a="https://ergast.com/api/f1",i={getSeasons:async()=>{try{const e=await fetch(`${a}/seasons.json`);return(await e.json()).MRData.SeasonTable.Seasons}catch(e){throw console.error("Error fetching seasons:",e),e}},getRacesForSeason:async e=>{try{const s=await fetch(`${a}/${e}/races.json`);return(await s.json()).MRData.RaceTable.Races}catch(s){throw console.error(`Error fetching races for season ${e}:`,s),s}},getRaceDetails:async(e,s)=>{try{const t=await fetch(`${a}/${e}/${s}/results.json`);return(await t.json()).MRData.RaceTable.Races[0].Results}catch(t){throw console.error(`Error fetching race details for season ${e}, round ${s}:`,t),t}}}},2255:(e,s,t)=>{t.r(s),t.d(s,{default:()=>A});var a=t(5043),i=t(3216),r=t(514),l=t(3241),n=t(9642),o=t(2018),c=t(5501),d=t(8676),u=t(8055),p=t(4532),m=t(4999),h=t.n(m),x=t(3488),f=t.n(x),g=t(579);const b=e=>{let{comparisonDrivers:s}=e;const t={chart:{type:"column"},title:{text:s.title,align:"left"},xAxis:{categories:s.xAxis,crosshair:!0,accessibility:{description:"Drivers"}},yAxis:{min:0,title:{text:"Metric"}},tooltip:{valueSuffix:" units"},plotOptions:{column:{pointWidth:20,pointPadding:.5,borderWidth:0}},series:[{name:"Comparison Metric",data:s.yAxis,type:"column"}]};return(0,g.jsx)(h(),{highcharts:f(),options:t})},v=[{name:"Points",code:"points"},{name:"Laps",code:"laps"}],j=e=>{let{raceDetails:s,defaultComparisonDrivers:t}=e;const[i,r]=(0,a.useState)([]),[m,h]=(0,a.useState)([]),[x,f]=(0,a.useState)(!0),[j,y]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),[S,A]=(0,a.useState)(),[C,D]=(0,a.useState)(t);(0,a.useEffect)((()=>{const e=s.map((e=>{var s;return{id:e.Driver.driverId,name:`${e.Driver.givenName} ${e.Driver.familyName}`,position:e.position,nationality:e.Constructor.nationality,time:(null===(s=e.Time)||void 0===s?void 0:s.millis)||"",points:e.points,laps:e.laps}}));r(e)}),[s]);const F=(0,g.jsx)("div",{className:"flex gap-2 items-center justify-between",children:(0,g.jsx)("div",{className:"flex justify-between items-center ml-auto",children:(0,g.jsxs)(d.C,{iconPosition:"left",children:[(0,g.jsx)(p.m,{className:"pi pi-search"}),(0,g.jsx)(u.S,{type:"search",onInput:e=>N(e.target.value),placeholder:"Search by Name..."})]})})});return(0,g.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,g.jsxs)("div",{className:"bg-[#F9FAFB] xxs:p-2 sm:p-4 rounded w-full flex xxs:flex-col sm:flex-row justify-between items-center gap-8 border",children:[(0,g.jsxs)("div",{className:"flex mr-auto gap-1 xxs:flex-col sm:flex-row sm:items-center  ",children:[(0,g.jsx)("p",{children:"Compare Between Drivers in"}),(0,g.jsx)(c.m,{value:S,onChange:e=>{A(e.value)},options:v,optionLabel:"name",placeholder:"Select a Comparison",disabled:!m||m.length<2}),j&&(0,g.jsx)("p",{children:"Select at least two competitor"})]}),(0,g.jsxs)("div",{className:"flex gap-2 ml-auto ",children:[(0,g.jsx)(o.$,{onClick:()=>{if(!S||!m)return;const e=[],s=[];m.forEach((t=>{e.push(t.name),s.push(Number(t[S.code]))})),D({xAxis:e,yAxis:s,title:`Compare between drivers in ${S.name}`})},className:"",label:"Compare",rounded:!0,size:"small",disabled:!m||m.length<2}),(0,g.jsx)(o.$,{onClick:()=>{h([]),A(void 0),D(t)},label:"Reset",severity:"danger",size:"small",rounded:!0})]})]}),(0,g.jsxs)("div",{className:"flex xxs:flex-col xxs:gap-4 lg:flex-row justify-between items-center",children:[(0,g.jsx)("div",{className:"xxs:w-full lg:w-[48%] border rounded",children:(0,g.jsxs)(l.b,{header:F,value:i,paginator:!0,rows:5,globalFilter:w||void 0,selectionMode:x?void 0:"checkbox",selection:m,onSelectionChange:e=>h(e.value),dataKey:"id",children:[(0,g.jsx)(n.V,{selectionMode:"multiple",headerStyle:{width:"0.25rem"}}),(0,g.jsx)(n.V,{field:"position",header:"Position",headerStyle:{width:"1rem"}}),(0,g.jsx)(n.V,{field:"name",header:"Name"}),(0,g.jsx)(n.V,{field:"nationality",header:"Nationality"})]})}),(0,g.jsx)("div",{className:"xxs:w-full lg:w-[48%]",children:(0,g.jsx)(b,{comparisonDrivers:C})})]})]})},y=t.p+"static/media/3ea92f9f.595c8c1a30a0c649a9bc.jpg";var w=t(8476);const N=e=>{let{multipleBarChart:s}=e;const t={chart:{height:"800",type:"bar",marginTop:100},title:{text:"Comparison between all competitors according to the Points , Labs and Grid",align:"left"},xAxis:{categories:s.xAxis,title:{text:null},gridLineWidth:1,lineWidth:0},yAxis:{min:0,labels:{overflow:"justify"},gridLineWidth:0},tooltip:{valueSuffix:"millions"},plotOptions:{bar:{borderRadius:"50%",pointWidth:5,dataLabels:{enabled:!0},groupPadding:.1}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:0,y:0,floating:!0,borderWidth:1,backgroundColor:"#FFFFFF",shadow:!0},credits:{enabled:!1},series:[{name:"points",data:s.points,type:"bar"},{name:"laps",data:s.laps,type:"bar"},{name:"grid",data:s.grid,type:"bar"}]};return(0,g.jsx)(h(),{highcharts:f(),options:t})},S="An Analysis of Formula 1\u2019s Quickest Race Finishers",A=()=>{const{season:e,round:s}=(0,i.g)(),[t,l]=(0,a.useState)([]),[n,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{if(e&&s)try{const t=await r.A.getRaceDetails(e,s);l(t);const a=t.filter((e=>"Finished"===e.status)),i=[],n=[],o=[],c=[],u=[];for(let e=0;e<a.length;e++){const s=t[e];i.push(s.Driver.givenName),n.push(Number(s.Time.millis)),o.push(Number(s.points)),c.push(Number(s.laps)),u.push(Number(s.grid))}for(let e=0;e<t.length;e++){const s=t[e];i.push(s.Driver.givenName),o.push(Number(s.points)),c.push(Number(s.laps)),u.push(Number(s.grid))}d({xAxis:i,yAxis:n,title:S}),p({xAxis:i,points:o,laps:c,grid:u})}catch(t){console.error(`Failed to fetch races for season ${e}:`,t)}finally{o(!1)}})()}),[e,s]),!n&&c&&u?(0,g.jsxs)("div",{className:"bg-[#2B2B2B] pb-8 min-100vh",children:[(0,g.jsx)("img",{src:y,alt:"vrs"}),(0,g.jsxs)("div",{className:"flex flex-col gap-16 w-[90%] m-auto bg-white xxs:p-2 sm:p-8 rounded mt-4",children:[(0,g.jsx)(j,{raceDetails:t,defaultComparisonDrivers:c}),(0,g.jsx)(N,{multipleBarChart:u})]})]}):(0,g.jsx)(w.A,{})}}}]);
//# sourceMappingURL=633.238e2a97.chunk.js.map